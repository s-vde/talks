
//--------------------------------------------------------------------------------------------------
/// @file simple_deadlock.cpp
//--------------------------------------------------------------------------------------------------

#include <mutex>
#include <thread>

int main()
{
   std::mutex m;
   std::lock_guard<std::mutex> lock(m);
   std::thread thr([&m](){ std::lock_guard<std::mutex> lock(m); });
   thr.join();
   return 0;
}

//--------------------------------------------------------------------------------------------------
